//#include <ansi_c.h>
#include "includes.h"


typedef struct	_stcDipToHig_
{
	uint16	hig;
	uint16	dip;
}stcDipHig;

const	stcDipHig	sDipHigBuf[]={
0,0,
1,16,
2,33,
3,49,
4,66,
5,82,
6,98,
7,115,
8,131,
9,148,
10,166,
11,183,
12,201,
13,219,
14,237,
15,254,
16,272,
17,290,
18,308,
19,326,
20,345,
21,363,
22,381,
23,400,
24,418,
25,437,
26,455,
27,474,
28,493,
29,512,
30,531,
31,551,
32,570,
33,589,
34,608,
35,627,
36,647,
37,667,
38,688,
39,708,
40,728,
41,749,
42,769,
43,789,
44,810,
45,830,
46,850,
47,872,
48,893,
49,914,
50,934,
51,955,
52,976,
53,997,
54,1018,
55,1039,
56,1060,
57,1081,
58,1103,
59,1124,
60,1145,
61,1166,
62,1188,
63,1209,
64,1231,
65,1253,
66,1275,
67,1296,
68,1318,
69,1340,
70,1362,
71,1384,
72,1406,
73,1428,
74,1450,
75,1472,
76,1494,
77,1516,
78,1539,
79,1561,
80,1583,
81,1605,
82,1628,
83,1651,
84,1674,
85,1696,
86,1719,
87,1742,
88,1764,
89,1787,
90,1810,
91,1834,
92,1857,
93,1880,
94,1903,
95,1927,
96,1950,
97,1973,
98,1996,
99,2020,
100,2044,
101,2067,
102,2091,
103,2114,
104,2138,
105,2162,
106,2185,
107,2209,
108,2233,
109,2257,
110,2281,
111,2305,
112,2329,
113,2353,
114,2377,
115,2401,
116,2425,
117,2450,
118,2475,
119,2499,
120,2524,
121,2548,
122,2573,
123,2598,
124,2622,
125,2647,
126,2672,
127,2697,
128,2723,
129,2748,
130,2773,
131,2798,
132,2823,
133,2848,
134,2874,
135,2900,
136,2926,
137,2951,
138,2977,
139,3003,
140,3029,
141,3055,
142,3081,
143,3107,
144,3133,
145,3159,
146,3186,
147,3212,
148,3238,
149,3265,
150,3291,
151,3317,
152,3344,
153,3371,
154,3398,
155,3425,
156,3452,
157,3479,
158,3506,
159,3533,
160,3560,
161,3587,
162,3615,
163,3642,
164,3670,
165,3698,
166,3725,
167,3753,
168,3781,
169,3808,
170,3836,
171,3865,
172,3893,
173,3921,
174,3949,
175,3977,
176,4006,
177,4034,
178,4062,
179,4091,
180,4120,
181,4149,
182,4177,
183,4206,
184,4235,
185,4264,
186,4293,
187,4322,
188,4351,
189,4381,
190,4410,
191,4440,
192,4469,
193,4499,
194,4528,
195,4557,
196,4587,
197,4617,
198,4647,
199,4677,
200,4707,
201,4738,
202,4768,
203,4798,
204,4828,
205,4858,
206,4889,
207,4920,
208,4951,
209,4981,
210,5012,
211,5043,
212,5074,
213,5105,
214,5136,
215,5167,
216,5198,
217,5230,
218,5261,
219,5292,
220,5324,
221,5355,
222,5386,
223,5418,
224,5450,
225,5482,
226,5514,
227,5546,
228,5578,
229,5609,
230,5641,
231,5673,
232,5705,
233,5738,
234,5770,
235,5802,
236,5835,
237,5867,
238,5900,
239,5932,
240,5964,
241,5997,
242,6029,
243,6061,
244,6093,
245,6126,
246,6158,
247,6190,
248,6222,
249,6255,
250,6287,
251,6319,
252,6352,
253,6384,
254,6416,
255,6449,
256,6481,
257,6513,
258,6546,
259,6578,
260,6610,
261,6643,
262,6675,
263,6708,
264,6740,
265,6772,
266,6805,
267,6837,
268,6869,
269,6901,
270,6934,
271,6966,
272,6998,
273,7030,
274,7063,
275,7095,
276,7127,
277,7160,
278,7192,
279,7224,
280,7257,
281,7289,
282,7321,
283,7354,
284,7386,
285,7418,
286,7451,
287,7483,
288,7516,
289,7548,
290,7580,
291,7613,
292,7645,
293,7677,
294,7710,
295,7742,
296,7774,
297,7807,
298,7839,
299,7872,
300,7904,
301,7936,
302,7969,
303,8001,
304,8033,
305,8065,
306,8098,
307,8130,
308,8162,
309,8194,
310,8227,
311,8259,
312,8291,
313,8324,
314,8356,
315,8388,
316,8421,
317,8453,
318,8485,
319,8518,
320,8550,
321,8582,
322,8615,
323,8647,
324,8679,
325,8712,
326,8744,
327,8777,
328,8809,
329,8841,
330,8874,
331,8906,
332,8938,
333,8970,
334,9003,
335,9035,
336,9067,
337,9099,
338,9132,
339,9164,
340,9196,
341,9229,
342,9261,
343,9293,
344,9326,
345,9358,
346,9390,
347,9426
};

uint16	DipConvertHig(uint16	dip)
{
	uint16	hig;
	uint16	point;
	uint16	firedisval;
	uint32	i;
	
	point =  sizeof(sDipHigBuf)/sizeof(stcDipHig);

	if(dip > 9500)	//³¬ÏÞ
	{
		return	500;
	}

	for(i = point-1;i+1>0;i-- )
	{
		if((dip>sDipHigBuf[i].dip) || (dip==sDipHigBuf[i].dip))
		{
			hig = sDipHigBuf[i].hig;
			break;
		}
	}
	
	firedisval =  sDipHigBuf[i].dip;
	if(sDipHigBuf[i].dip %10 > 4)		
	{
		firedisval = sDipHigBuf[i].dip + 10; 	
	}


//	printftextbox("\r\ndip %d convert hig %d  firedisval %d",dip,hig,(firedisval/10)*10);
	return	hig;
}
